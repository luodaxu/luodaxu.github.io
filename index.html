<!DOCTYPE html>
<html >
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="罗旭" />


    
    


<meta name="description" content="罗旭的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="罗旭个人博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="罗旭个人博客">
<meta property="og:description" content="罗旭的博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="罗旭个人博客">
<meta name="twitter:description" content="罗旭的博客">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="罗旭个人博客" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>罗旭个人博客</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: undefined
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/me.jpeg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">罗旭</a></h1>
        </hgroup>

        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="/luox199111@gmail.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="https://www.github.com/luodaxu" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa 知乎" href="https://www.zhihu.com/people/xu-luo-47" title="知乎"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/">%</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS/">JS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSX/">JSX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Virtual-DOM/">Virtual DOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VirtualDom/">VirtualDom</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/">Web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/">algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/api/">api</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/async/">async</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/chrome/">chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css3/">css3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/debug/">debug</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/defer/">defer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/extend/">extend</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html5/">html5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/image/">image</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/include/">include</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lasyman/">lasyman</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/less/">less</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lifecycle/">lifecycle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mixin/">mixin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/placeholder/">placeholder</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/property/">property</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/props/">props</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/px-em-rem/">px|em|rem</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sass/">sass</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/stateless/">stateless</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web优化/">web优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/嵩峰/">嵩峰</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/广丰/">广丰</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/江西/">江西</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/组件化/">组件化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/高阶组件/">高阶组件</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">后端 SSH2/Shiro, 前端 MKRN</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">罗旭</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/me.jpeg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">罗旭</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="/luox199111@gmail.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://www.github.com/luodaxu" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa 知乎" target="_blank" href="https://www.zhihu.com/people/xu-luo-47" title="知乎"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-react-高阶组件" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/23/react-高阶组件/" class="article-date">
      <time datetime="2017-01-23T06:04:59.000Z" itemprop="datePublished">2017-01-23</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/23/react-高阶组件/">react-高阶组件</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>目前的前端社区，推荐组件化，组件化又推荐组合而非继承，组合是业务和视图的组合，这样最小粒化组件，又不失去灵活性和可控性。mixin也是一种比较好的实践，但是自身自身的一些问题而慢慢不被推崇。高阶组件(Higher Order Comopnent, HOC)作为mixin之外的一种组件抽象与处理形式，自身有许多好处。高阶组件是一个非常棒的形式，它已经在多个 React 库中被证明了它的价值，本文将深入学习分析。<br>读者最好有React/ES6等基础知识。</p>
<h4 id="什么是高阶组件"><a href="#什么是高阶组件" class="headerlink" title="什么是高阶组件"></a>什么是高阶组件</h4><blockquote>
<p>一个高阶组件只是一个包装了另外一个React组件的React组件</p>
</blockquote>
<p>熟悉函数式编程的读者知道这可以被描述成一个函数，本质上是一个类工程(class factory)，这是我们再熟悉不过的一种设计模式。下方的函数标签伪代码启发来自Haskell，一种推荐函数式的编程语言。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hocFactory:: W: React.Comopnent =&gt; E: React.Comopnent</div></pre></td></tr></table></figure></p>
<p>这里的W是 WrappedComponent缩写，指被包装的React.Comopnent，E是EnhancedCompnent的缩写，指的是包装最后返回的新的高阶React组件。<br>在这里中的<strong>包装</strong>指的是两件事，也就是两个功能。</p>
<ol>
<li>属性代理（Props Proxy）: 高阶组件操控传递给WrappedComponent的props</li>
<li>反向继承（Inheritance Inversion）: 高阶组件继承（extends）WrappedComponent</li>
</ol>
<p>其实功能1就是 WrappedComponent将由通过EnhancedCompnent获取传递过来的props，例如是某些业务逻辑之类的。功能2就是最终返回的EnhancedCompnent通过这种方式继承(extends)了WrappedComponent的属性。</p>
<h4 id="使用高阶组件做什么"><a href="#使用高阶组件做什么" class="headerlink" title="使用高阶组件做什么"></a>使用高阶组件做什么</h4><p>通过实践后高度概括，高阶组件可以实现下面功能：</p>
<ul>
<li>代码复用，逻辑抽象，抽离底层准备代码(bootstrap)代码</li>
<li>渲染劫持</li>
<li>State抽象和更改</li>
<li>Props更改</li>
</ul>
<p>这些功能是高度概括的，下面通过学习一个高阶组件，学习 <strong>允许/限制</strong> 通过高阶组件我们可以实现哪些功能，如何做到代码的clean。</p>
<h4 id="高阶组件工厂的实现"><a href="#高阶组件工厂的实现" class="headerlink" title="高阶组件工厂的实现"></a>高阶组件工厂的实现</h4><p>在这节中我们将学习两种主流的在 React 中实现高阶组件的方法：属性代理（Props Proxy）和 反向继承（Inheritance Inversion）。两种方法囊括了几种包装 WrappedComponent 的方法。</p>
<h5 id="Props-Proxy-PP-属性代理"><a href="#Props-Proxy-PP-属性代理" class="headerlink" title="Props Proxy (PP) 属性代理"></a>Props Proxy (PP) 属性代理</h5><p>Props Proxy (PP) 属性代理可以理解为EnhancedCompnent替WrappedComponent接收传递过来的组件，最后的实际作用还是在WrappedComponent上，就相当于实现了一个代理一样。举个例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function ppHOC(WrappedComponent) &#123;</div><div class="line">    return class PP extends React.Component &#123;</div><div class="line">        render() &#123;</div><div class="line">            return &lt;WrappedComponent &#123;...this.props&#125; /&gt;;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>可以看到这里高阶组件的render方法返回了一个type为WrappedComponent的React Element，高阶组件接收到的props传递给它，因此得名 Props Proxy.</p>
<h5 id="Props-Proxy功能"><a href="#Props-Proxy功能" class="headerlink" title="Props Proxy功能"></a>Props Proxy功能</h5><ol>
<li>更改props</li>
<li>通过refs获取组件实例</li>
<li>抽象state</li>
<li>把 WrappedComponent 与其它 elements 包装在一起</li>
</ol>
<p>（1）更改props<br>这个wrap的过程中我们可以对props进行<strong>读取/增加/修改/删除</strong>等操作将要递给WrappedComponent的props。<br>在修改或删除重要 props 的时候要小心，你可能应该给高阶组件的 props 指定命名空间（namespace），以防破坏从外传递给 WrappedComponent 的 props。<br>例如，添加新的props，这个应用目前登陆的一个用户可以在 WrappedComponent 通过 this.props.user 获取。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">function ppHOC(WrappedComponent) &#123;</div><div class="line">    return class PP extends React.Comopnent &#123;</div><div class="line">        render() &#123;</div><div class="line">            const newProps = &#123;  // 提供新的对象防止修改外部传递的props</div><div class="line">                user: currentLoggedInUser</div><div class="line">            &#125;;</div><div class="line">            return &lt;WrappedComponent &#123;..this.props&#125; &#123;...newProps&#125; /&gt;;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>（2）通过refs获取组件实例(Props Proxy with ref demonstration)<br>通过ref获取关键字 <strong>this</strong> (WrappedComponent的实例)，但是必须经历一次正常的渲染过程让ref得到计算，意味着可以在高阶组件的render方法中返回WrappedComponent,让React进行reconciliation过程这之后可以通过ref获取到这个WrappedComponent的实例。<br>例如下面例子就是通过ref获取WrappedComponent实例并调用实例方法。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function refsHOC(WrappedComponent) &#123;</div><div class="line">    return class refsHOC extends React.Component &#123;</div><div class="line"></div><div class="line">        render() &#123;</div><div class="line">            const props = Object.assign(&#123;&#125;, this.props. &#123;ref: this.proc.bind(this)&#125;);</div><div class="line">            return &lt;WrappedComponent &#123;...props&#125;/&gt;;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>当 WrappedComponent 被渲染后，ref 上的回调函数 proc 将会执行，此时就有了这个 WrappedComponent 的实例的引用。这个可以用来『读取，添加』实例的 props 或用来执行实例方法。<br>（3）抽象state<br>可以通过向WrappedComponent传递props和callbacks来抽象state。例如:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">function ppHOC(WrappedComponent) &#123;</div><div class="line">    return class PP extends React.Component &#123;</div><div class="line">        constructor(props) &#123;</div><div class="line">            super(props);</div><div class="line">            this.state = &#123;</div><div class="line">                name: &apos;&apos;</div><div class="line">            &#125;;</div><div class="line">            this.onNameChange = this.onNameChange.bind(this);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        onNameChange(e) &#123;</div><div class="line">            this.setState(&#123;</div><div class="line">                name: e.target.value</div><div class="line">            &#125;);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        render() &#123;</div><div class="line">            const newProps = &#123;</div><div class="line">                name: &#123;</div><div class="line">                    value: this.state.name,</div><div class="line">                    onChange: this.onNameChange</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            return &lt;WrappedComponent &#123;...this.props&#125; &#123;...newProps&#125;/&gt;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>然后使用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">@ppHOC</div><div class="line">class Example extends React.Comopnent &#123;</div><div class="line">    render() &#123;</div><div class="line">        return &lt;input name=&quot;name&quot; &#123;...this.props.name&#125;/&gt;;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>此时的input是一个可控的input。<br>（4）把WrappedComponent与其他elements包装在一起<br>出于操作样式、布局或其它目的，你可以将 WrappedComponent 与其它组件包装在一起。一些基本的用法也可以使用正常的父组件来实现（附录 B），但是就像之前所描述的，使用高阶组件你可以获得更多的灵活性。<br>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function ppHOC(WrappedComponent) &#123;</div><div class="line">    return class PP extends React.Component &#123;</div><div class="line">        return (</div><div class="line">            &lt;div style=&#123;&#123;display: &apos;block&apos;&#125;&#125;&gt;</div><div class="line">                &lt;WrappedComponent &#123;this.props&#125; /&gt;</div><div class="line">            /div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="反向继承-Inheritance-Inversion"><a href="#反向继承-Inheritance-Inversion" class="headerlink" title="反向继承(Inheritance Inversion)"></a>反向继承(Inheritance Inversion)</h4><p>反向继承一个简单的实现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function iiHOC(WrappedComponent) &#123;</div><div class="line">    return class Enhancer extends WrappedComponent &#123;</div><div class="line">        render() &#123;</div><div class="line">            return super.render();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>返回的高阶组件类（Enhancer）继承了WrappedComponent，之所以称之为反向继承是因为WrappedComponent被动地被Enhancer继承，而不是 WrappedComponent 去继承 Enhancer。通过这种方式他们之间的关系倒转了。<br>反向继承允许高阶组件通过 this 关键词获取 WrappedComponent，意味着它可以获取到 state，props，组件生命周期（component lifecycle）钩子，以及渲染方法（render）。<br>是请注意，你可以通过高阶组件来给 WrappedComponent 创建新的生命周期挂钩方法，别忘了调用 super.[lifecycleHook] 防止破坏 WrappedComponent。</p>
<h5 id="React-Reconciliation-过程"><a href="#React-Reconciliation-过程" class="headerlink" title="React Reconciliation 过程"></a>React Reconciliation 过程</h5><p>React Element在react执行它的reconciliation过程描述什么将被渲染，React Element可以分为两类：String或Function。String 类型的 React Element 代表原声 DOM 节点，Function 类型的 React Element 代表通过 React.Component 创建的组件<br>Function 类型的 React Element 将在 reconciliation 阶段被解析成 DOM 类型的 React Element （最终结果一定都是 DOM 元素）。<br>这点非常重要，这意味<strong>反向继承的高阶组件不保证一定解析整个子元素树</strong>。这对渲染劫持非常重要。</p>
<h5 id="可以用反向继承高阶组件做什么？"><a href="#可以用反向继承高阶组件做什么？" class="headerlink" title="可以用反向继承高阶组件做什么？"></a>可以用反向继承高阶组件做什么？</h5><ul>
<li>渲染劫持 Rendering Highjacking</li>
<li>操作state</li>
</ul>
<ol>
<li>渲染劫持<br>之所以被称为渲染劫持是因为高阶组件控制了WrappedComponent生成的渲染结果，并且可以各种操作。通过渲染劫持可以：<ul>
<li>读取，添加，删除，修改 任何一个将被渲染的React Element的 props</li>
<li>在渲染方法中读取或更改React Element tree，也就是 WrappedComponent 的 children</li>
<li>根据条件不同，选择性的渲染子树</li>
<li>给子树里的元素变更样式<br>其中渲染指的是 WrappedComponent.render 方法<blockquote>
<p>无法更改或创建 props 给 WrappedComponent 实例，因为 React 不允许变更一个组件收到的 props，但是你可以在 render 方法里更改子元素/子组件们的 props。</p>
</blockquote>
</li>
</ul>
</li>
</ol>
<p>反向继承的高阶组件不保证一定渲染整个子元素树，这同时也给渲染劫持添加了一些限制。通过反向继承，只能劫持WrappedComponent渲染的元素，这意味着如果 WrappedComponent 的子元素里有 Function 类型的 React Element，你不能劫持这个元素里面的子元素树的渲染<br>例子:通过 render 来变成 React Elements tree 的结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">function iiHOC(WrappedComponent) &#123;</div><div class="line">  return class Enhancer extends WrappedComponent &#123;</div><div class="line">    render() &#123;</div><div class="line">      const elementsTree = super.render()</div><div class="line">      let newProps = &#123;&#125;;</div><div class="line">      if (elementsTree &amp;&amp; elementsTree.type === &apos;input&apos;) &#123;</div><div class="line">        newProps = &#123;value: &apos;may the force be with you&apos;&#125;</div><div class="line">      &#125;</div><div class="line">      const props = Object.assign(&#123;&#125;, elementsTree.props, newProps)</div><div class="line">      const newElementsTree = React.cloneElement(elementsTree, props, elementsTree.props.children)</div><div class="line">      return newElementsTree</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>这里你可以做任何操作，比如你可以遍历整个 element tree 然后变更某些元素的 props。这恰好就是 Radium 的工作方式。</p>
<blockquote>
<p>注意：你不能通过 Props Proxy 来做渲染劫持.<br>即使你可以通过 WrappedComponent.prototype.render 获取它的 render 方法，你需要自己手动模拟整个实例以及生命周期方法，而不是依靠 React，这是不值当的，应该使用反向继承来做到渲染劫持。要记住 React 在内部处理组件的实例，而你只通过 this 或 refs 来处理实例。</p>
</blockquote>
<ol>
<li>操作state<br>高阶组件可以<strong>读取，修改，删除</strong>WrappedComponent实例的state，必要的话可以添加新的state。但是注意的是，这样会弄乱WrappedComponent的state，导致破坏一些东西。通常不介意使用高阶组件来读取或添加state，添加state需要使用命名空间来防止与 WrappedComponent 的 state 冲突。<br>我们举个例子，通过显示 WrappedComponent 的 props 和 state 来 debug<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">export function IIHOCDEBUGGER(WrappedComponent) &#123;</div><div class="line">    return class II extends WrappedComponent &#123;</div><div class="line">        render() &#123;</div><div class="line">            return (</div><div class="line">                &lt;div&gt;</div><div class="line">                    &lt;h2&gt;HOC Debugger Component&lt;/h2&gt;</div><div class="line">                    &lt;p&gt;Props&lt;/p&gt; &lt;pre&gt;&#123;JSON.stringify(this.props, null, 2)&#125;&lt;/pre&gt;</div><div class="line">                    &lt;p&gt;State&lt;/p&gt;&lt;pre&gt;&#123;JSON.stringify(this.state, null, 2)&#125;&lt;/pre&gt;</div><div class="line">                    &#123;super.render()&#125;</div><div class="line">                &lt;/div&gt;</div><div class="line">            )</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="命名"><a href="#命名" class="headerlink" title="命名"></a>命名</h4><p>通过高阶组件包装一个组件时候，会丢失原先 WrappedComponent 的名字，可能会给开发和 debug 造成影响。常见的解决方法是在原先的 WrappedComponent 的名字前添加一个前缀，下面是从 React-Redux 中拿出来。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">HOC.displayName = `HOC($getDisplayName(WrappedComponent))`</div><div class="line">或者</div><div class="line">class HOC extends WrappedComponent &#123;</div><div class="line">    static displayName = `HOC($getDisplayName(WrappedComponent))`</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>其中方法 getDisplayName 被如下定义：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">function getDisplayName(WrappedComponent) &#123;</div><div class="line">    return WrappedComponent.displayName ||</div><div class="line">        WrappedComponent.name ||</div><div class="line">        `Component`</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>当然，我们可以不需要自己写这个方法，因为 <a href="https://github.com/acdlite/recompose" target="_blank" rel="external">recompose</a>已经提供了。</p>
<h4 id="案例学习"><a href="#案例学习" class="headerlink" title="案例学习"></a>案例学习</h4><p>下面的案例是用了许多高阶组件思想，值得学习。</p>
<h5 id="React-Redux"><a href="#React-Redux" class="headerlink" title="React-Redux"></a>React-Redux</h5><p>React-Redux 是 Redux 官方的对于 React 的绑定。 其中一个方法 connect 处理了所有关于监听 store 的 bootstrap 代码 以及清理工作，这是通过 Props Proxy 来实现的。<br>如果你曾经使用过 Flux 你会知道 React 组件需要和一个或多个 store 连接，并且添加/删除对 store 的监听，从中选择需要的那部分 state。而 React-Redux 帮你把它们实现了.</p>
<h5 id="Radium"><a href="#Radium" class="headerlink" title="Radium"></a>Radium</h5><p>Radium 是一个增强了行内（inline）css 能力的库，它允许在inline css 使用 css 伪选择器，<a href="https://speakerdeck.com/vjeux/react-css-in-js" target="_blank" rel="external">inline css</a>又被成为 CSS in JS。<br>Radium是怎么允许 inline css 来实现 CSS 伪选择器的呢，例如 hover？它实现了一个反向继承来使用渲染劫持，添加适当的事件监听来模拟 CSS 伪选择器，这要求 Radium 读取整个 WrappedComponent 将要渲染的元素树，每当找到元素带有的 style props，它就会添加对应的时间监听 props。简单地说，Radium 修改了原先元素树的props，实际上更加复杂。<br>Radium 只暴露了一个非常简单的API给开发者，而开发者几乎不会注意到它的存在和它是怎么发挥作用的，而实现了想要的功能。这揭露了高阶组件的能力。</p>
<h4 id="附录A-高阶组件和参数"><a href="#附录A-高阶组件和参数" class="headerlink" title="附录A: 高阶组件和参数"></a>附录A: 高阶组件和参数</h4><p>有时在高阶组件中使用参数很有用，举个例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">function HOCFactoryFactory(...params) &#123;</div><div class="line">    // do something wiht params</div><div class="line">    return function HOCFactory(WrappedComponent) &#123;</div><div class="line">        return class HOC extends WrappedComponent &#123;</div><div class="line">            render() &#123;</div><div class="line">                return &lt;WrappedComponent &#123;...this.props&#125; /&gt;;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>可以这样使用它<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">HOCFactoryFactory(params)(WrappedComponent)</div><div class="line">或者</div><div class="line">@HOCFactoryFactory(params)</div><div class="line">class WrappedComponent extends React.Component &#123;&#125;</div></pre></td></tr></table></figure></p>
<h4 id="附录B：和父组件的不同之处"><a href="#附录B：和父组件的不同之处" class="headerlink" title="附录B：和父组件的不同之处"></a>附录B：和父组件的不同之处</h4><p>父组件就是单纯的 React 组件包含了一些子组件（children）。React 提供了获取和操作一个组件的 children 的 APIs。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">class Parent extends React.Component &#123;</div><div class="line">    render() &#123;</div><div class="line">        return (</div><div class="line">            &lt;div&gt;</div><div class="line">                &#123; this.props.children &#125;</div><div class="line">            &lt;/div&gt;</div><div class="line">        )</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">render((</div><div class="line">    &lt;Parent&gt;</div><div class="line">        &#123; children &#125;</div><div class="line">    &lt;/Parent&gt;</div><div class="line">), mountNode)</div></pre></td></tr></table></figure></p>
<h4 id="总结：高阶组件能做和不能做的"><a href="#总结：高阶组件能做和不能做的" class="headerlink" title="总结：高阶组件能做和不能做的"></a>总结：高阶组件能做和不能做的</h4><ul>
<li>渲染劫持</li>
<li>操作内部 props</li>
<li>抽象 state。但是有缺点，不能再父组件外获取到它的 state，除非明确地实现了钩子。</li>
<li>与新的 React Element 包装。这似乎是唯一一点，使用父组件要比高阶组件强，但高阶组件也同样可以实现。</li>
<li>Children 的操控。如果 children 不是单一 root，则需要多添加一层来包括所有 children，可能会使你的 markup 变得有点笨重。使用高阶组件可以保证单一 root。</li>
<li><p>父组件可以在元素树立随意使用，它们不像高阶组件一样限制于一个组件。<br>通常来讲，能使用父组件达到的效果，尽量不要用高阶组件，因为高阶组件是一种更 hack 的方法，但同时也有更高的灵活性。React 带来了很多创新，人们维护着像 Radium，React-Redux，React-Router 之类的项目，都是很好的证明。</p>
<h4 id="引用博客"><a href="#引用博客" class="headerlink" title="引用博客"></a>引用博客</h4></li>
</ul>
<ol>
<li><a href="https://zhuanlan.zhihu.com/p/22054582?refer=purerender" target="_blank" rel="external">基于Decorator的组件扩展实践</a></li>
<li><a href="http://www.jianshu.com/p/0aae7d4d9bc1" target="_blank" rel="external">深入理解 React 高阶组件</a></li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/props/">props</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/stateless/">stateless</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/高阶组件/">高阶组件</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-sass之四-mixin-include-placeholder-2" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/22/sass之四-mixin-include-placeholder-2/" class="article-date">
      <time datetime="2017-01-22T10:11:51.000Z" itemprop="datePublished">2017-01-22</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/22/sass之四-mixin-include-placeholder-2/">sass之四-mixin-include-placeholder(2)</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/">%</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/extend/">extend</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/include/">include</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mixin/">mixin</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sass/">sass</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-web优化之css-sprites" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/21/web优化之css-sprites/" class="article-date">
      <time datetime="2017-01-21T02:19:27.000Z" itemprop="datePublished">2017-01-21</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/21/web优化之css-sprites/">web优化之css sprites</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>Css sprites翻译为css精灵，其实就是通过多个多个图片融合到一幅图里面，然后通过CSS的一些技术布局到网页上。好处就是图片多的话，会增加http的请求，促使网站性能的降低，特别是图片特别多的网站，如果能用css sprites降低图片数量，带来的将是速度的提升。这样一来，当访问该页面时候，，载入的图片就不会像以前那样一幅一幅地慢慢显示出来了。对于当前网络流行的速度而言，不高于200KB的单张图片的所需载入时间基本是差不多的，所以无需顾忌这个问题。</p>
<h4 id="CSS-Sprites使用"><a href="#CSS-Sprites使用" class="headerlink" title="CSS Sprites使用"></a>CSS Sprites使用</h4><ol>
<li><p>首先定义一个共用的css样式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">.bg_sprite &#123; background-image: url(/your image..); background-repeat: no-repeat &#125;</div></pre></td></tr></table></figure>
</li>
<li><p>针对不同的需求设置background-position</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">#ico1 &#123;width:容器宽度;height:容器高度;background-position:X坐标 Y坐标&#125;</div><div class="line">#ico2 &#123;width:容器宽度;height:容器高度;background-position:X坐标 Y坐标&#125;</div><div class="line">#ico3 &#123;width:容器宽度;height:容器高度;background-position:X坐标 Y坐标&#125;</div><div class="line">.nav &#123;width:容器宽度;height:容器高度;background-position:X坐标 Y坐标&#125;</div><div class="line">当然也有简写方法：</div><div class="line">#ico1 &#123;width:容器宽度;height:容器高度;background:url(/整图地址) no-repeat X坐标 Y坐标;&#125;</div><div class="line">其中，X坐标和Y坐标表示原图相对于ico1框左上角点的偏移量，即 坐标 0 0表示背景图和ico1框的左上角点重合</div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="什么是base64编码"><a href="#什么是base64编码" class="headerlink" title="什么是base64编码"></a>什么是base64编码</h4><p>图片的下载始终都要向服务器请求，要是图片的下载不用向服务器发出请求，而可以随着HTML的下载同时下载到本地，base64就是正好解决此问题。<br>图片的base64编码就是将一副图片数据编码成一个字符串，使用该字符串代替图像地址。下面以base64编码和CssSprites比较为例，使用base64编码前提就是base64编码的图片尺寸足够小。<br>如下图所示，博客园的Logo只有3.27KB，已经很小了，但是如果将其制作转化成base64编码，生成的base64字符串编码足足有 4406 个。即便base64编码能够被gzip压缩，压缩率能达到50%以上，想象一下，一个元素的css样式编写居然超过了2000个字符，那对css整体的可读性将会造成十分大的影响，代码的冗余使得在此使用base64编码将得不偿失。<br>那么，是不是表示base64编码无用武之地呢？不然。当页面中的图片满足以下要求，base64就能大显生手。<br>如果<strong>图片足够小</strong>且因为用处的<strong>特殊性无法被制作成雪碧图（CssSprites）</strong> ，在整个网站的复用性很高且基本不会被更新 。那么此时使用base64编码传输图片就可谓好钢用在刀刃上，思前想后，符合这个规则的，有一个是我们经常会遇到的，就是页面的背景图background-image。在很多地方，我们会制作一个很小的图片大概是几px*几px，然后平铺它页面当背景图。因为是背景图的缘故，所以无法将它放入雪碧图，而它却存在网站的很多页面，这种图片往往只有几十字节，却需要一个http请求，十分不值得。那么此时将它转化为base64编码，何乐而不为.</p>
<h4 id="base64和CssSprites"><a href="#base64和CssSprites" class="headerlink" title="base64和CssSprites"></a>base64和CssSprites</h4><p>对两种技术的看法：</p>
<ol>
<li>使用CssSprites合并为一张大图，页面具有多种风格，需要换肤功能，可以使用CssSprites，不会频繁的改动，使用时候无需重复图形内容，没有base64编码成本，降低图片更新的维护难度。</li>
<li>使用base64直接把图片编码成字符串写入CSS文件，无须额外请求，对极小或者极简单图片可以被gzip，降低css维护难度，可像单独图片一样使用，比如背景图片使用等，没有跨域问题，无需老吕缓存，文件头或者cookies问题</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/image/">image</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web优化/">web优化</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-sass之三-mixin-include-placeholder" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/20/sass之三-mixin-include-placeholder/" class="article-date">
      <time datetime="2017-01-20T09:30:19.000Z" itemprop="datePublished">2017-01-20</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/20/sass之三-mixin-include-placeholder/">sass之三-mixin,include, %placeholder</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>这节将讲解sass四个特性: 变量variables，嵌套nesting，混合mixins, 继承extend.</p>
<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><p>继承相对简单，这里不做讲解</p>
<h4 id="mixins"><a href="#mixins" class="headerlink" title="mixins"></a>mixins</h4><p>mixins相当于函数功能，函数功能就是减少代码量，提取出来作为公共模块被调用，可以通过@include进行调用。<br>定义<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@mixin 名称( 参数: 默认值) &#123;</div><div class="line">    /* 公共样式 */</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>调用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">selector &#123;</div><div class="line">    @include 名称(参数值);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>mixins最明显的用例是来处理浏览器前缀的问题</p>
<h4 id="sass中嵌套，混合和继承的缺点"><a href="#sass中嵌套，混合和继承的缺点" class="headerlink" title="sass中嵌套，混合和继承的缺点"></a>sass中嵌套，混合和继承的缺点</h4><ol>
<li>嵌套的缺点<br>SASS嵌套让我们在写代码的时候，不再需要考虑如何嵌套，如何添加类或者ID。简单来说，知道了父元素，其后代元素<br>都可以很清晰的控制，但生成的css选择器层级越深，一般而言，查询的就越慢，影响页面的性能，一般是2-3层为最佳。</li>
<li>混合的缺点<br>虽然Mixins能帮助我们把相同的样式通过@mixin来定义成一个模块，在需要的时候调用。然而混合在生成的CSS代码中也存在一个潜在的不足，而且很多初学者都将Mixins用在错误的地方。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">// define @mixin rounded</div><div class="line">@mixin rounded &#123;</div><div class="line">  -webkit-border-radius: 5px;</div><div class="line">  -moz-border-radius: 5px;</div><div class="line">  -o-border-radius: 5px;</div><div class="line">  -ms-border-radius: 5px;</div><div class="line">  border-radius: 5px;</div><div class="line">&#125;</div><div class="line"></div><div class="line">button &#123;</div><div class="line">  @include rounded;</div><div class="line">  background: #ccc;</div><div class="line">  color: #222;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.simple-form input &#123;</div><div class="line">  @include rounded;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.main-nav .item &#123;</div><div class="line">  color: #fff;</div><div class="line">  a:hover,</div><div class="line">  a:active &#123;</div><div class="line">    @include rounded;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>但是编译后的结果是这样子的，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">button &#123;</div><div class="line">  -webkit-border-radius: 5px;</div><div class="line">  -moz-border-radius: 5px;</div><div class="line">  -o-border-radius: 5px;</div><div class="line">  -ms-border-radius: 5px;</div><div class="line">  border-radius: 5px;</div><div class="line">  background: #ccc;</div><div class="line">  color: #222; &#125;</div><div class="line"></div><div class="line">.simple-form input &#123;</div><div class="line">  -webkit-border-radius: 5px;</div><div class="line">  -moz-border-radius: 5px;</div><div class="line">  -o-border-radius: 5px;</div><div class="line">  -ms-border-radius: 5px;</div><div class="line">  border-radius: 5px; &#125;</div><div class="line"></div><div class="line">.main-nav .item &#123;</div><div class="line">  color: #fff; &#125;</div><div class="line">  .main-nav .item a:hover,</div><div class="line">  .main-nav .item a:active &#123;</div><div class="line">    -webkit-border-radius: 5px;</div><div class="line">    -moz-border-radius: 5px;</div><div class="line">    -o-border-radius: 5px;</div><div class="line">    -ms-border-radius: 5px;</div><div class="line">    border-radius: 5px; &#125;</div></pre></td></tr></table></figure></p>
<p>这样一来，@mixin rounded中定义的样式被重复的编译出来，不但没有变的简洁，反而变得臃肿，这样是不是感觉没有什么用？理想的是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">button,</div><div class="line">.simple-form input,</div><div class="line">.main-nav .item a:hover, .main-nav .item a:active &#123;</div><div class="line">    -webkit-border-radius: 5px;</div><div class="line">    -moz-border-radius: 5px;</div><div class="line">    -o-border-radius: 5px;</div><div class="line">    -ms-border-radius: 5px;</div><div class="line">    border-radius: 5px; &#125;</div></pre></td></tr></table></figure></p>
<p>那该如何正确的使用@mixins呢？<br>Mixins的黄金规则是将相似的风格定义在一个@mixin中。请注意这里的一个关键词相似的，另外Mixins主要是用于重用，而不是用来指定具体的属性值。例如这个实例，我们应该用@mxin来创建不同半径的圆角，而不是用来创建一个具体值的@mixin。换句话来说，如果你创建的Mixins没有传参数，那您就是一种错误的使用方法。基于这点出发，我们可以把上例中的@mixin rounded传入一个$radius参数：著作权归作者所有。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">// define @mixin rounded</div><div class="line">@mixin rounded($radius: 5px) &#123;</div><div class="line">  -webkit-border-radius: 5px;</div><div class="line">  -moz-border-radius: 5px;</div><div class="line">  -o-border-radius: 5px;</div><div class="line">  -ms-border-radius: 5px;</div><div class="line">  border-radius: 5px;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>这样结果变成更加简洁明了了。</p>
<ol>
<li>继承的缺点<br>前面说过，SASS的继承，可以将相同样式规则定义在一个类中，然后能过@extend来调用。这样就可以把相同样式合并在一起。按照这个原理，我们可以把上面的@mixin rounded替换成.rounded，然后在需要的地方通过@extend来调用.rounded。这样就可以解决使用@mixin致使样式重复出现多次的问题。<br>但是.rounded样式可能不只运用在一个地方或者一个样式文件之中。另外，@extend是可以读取SASS文件中类名，这可能之后会出现很大问题。举个例子：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">.button &#123;</div><div class="line">  display: block;</div><div class="line">  padding: 10px;</div><div class="line">  background: green;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.sidebar .signup .button &#123;</div><div class="line">  margin-top: 20px;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.registrantion,</div><div class="line">.remember-password &#123;</div><div class="line">  .button &#123;</div><div class="line">    margin-bottom: 33px;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.edit-account .delete-area .button &#123;</div><div class="line">  background-color: red;</div><div class="line">  color: white;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.article a &#123;</div><div class="line">  @extend .button;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>最终编译出来的结果是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">.button, .article a &#123;</div><div class="line">  display: block;</div><div class="line">  padding: 10px;</div><div class="line">  background: green; &#125;</div><div class="line"></div><div class="line">.sidebar .signup .button,</div><div class="line">.sidebar .signup .article a,</div><div class="line">.article .sidebar .signup a &#123;</div><div class="line">  margin-top: 20px; &#125;</div><div class="line"></div><div class="line">.registrantion .button,</div><div class="line">.registrantion .article a,</div><div class="line">.article .registrantion a,</div><div class="line">.remember-password .button,</div><div class="line">.remember-password .article a,</div><div class="line">.article .remember-password a &#123;</div><div class="line">  margin-bottom: 33px; &#125;</div><div class="line"></div><div class="line">.edit-account .delete-area .button,</div><div class="line">.edit-account .delete-area .article a,</div><div class="line">.article .edit-account .delete-area a &#123;</div><div class="line">  background-color: red;</div><div class="line">  color: white; &#125;</div></pre></td></tr></table></figure></p>
<p>出乎意料，我们期望的是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">.button, .article a &#123;</div><div class="line">    display: block;</div><div class="line">    padding: 10px;</div><div class="line">    background: green;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>.button</strong> 类名可能用在不同之处，有不同的容器包裹着，然而在SASS中的<strong>@extend</strong> 无法判断引用哪个地方的 <strong>.button</strong>,所以自己做主将不同地方出现的.button类名有引入进来，造成了上述现象。那怎么办？使用％placeholders</p>
<h4 id="强大的"><a href="#强大的" class="headerlink" title="强大的%"></a>强大的%</h4><p>%只是一个占位符，不是正常的选择器，只要不通过@extend调用，是不会产生任何代码量的，这个功能用来取代上述的.class与@extend完美简单。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">％placeholders &#123; /* 共用样式 */ &#125;</div></pre></td></tr></table></figure></p>
<p>在需要的时候通过@extend调用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">selector &#123;</div><div class="line">    @extend %placeholders;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>我们举个例子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">%clearfix &#123;</div><div class="line">    *zoom: 1;</div><div class="line"></div><div class="line">    &amp;::after,</div><div class="line">    &amp;::before &#123;</div><div class="line">        content: &quot;&quot;,</div><div class="line">        display: table;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    &amp;::after &#123;</div><div class="line">        clear: both;</div><div class="line">        overflow: hidden;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>调用的时候：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">nav &#123;</div><div class="line">    display: block;</div><div class="line">    ul &#123;</div><div class="line">        margin: 50px auto;</div><div class="line">        width: 800px;</div><div class="line">        @extend %clearfix;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="引用博客"><a href="#引用博客" class="headerlink" title="引用博客"></a>引用博客</h4><p><a href="http://www.w3cplus.com/preprocessor/sass-basic-mixins-nesting-placeholders-extend.html" target="_blank" rel="external">http://www.w3cplus.com/preprocessor/sass-basic-mixins-nesting-placeholders-extend.html</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/include/">include</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mixin/">mixin</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sass/">sass</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-sass之二-sass调试" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/20/sass之二-sass调试/" class="article-date">
      <time datetime="2017-01-20T08:47:12.000Z" itemprop="datePublished">2017-01-20</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/20/sass之二-sass调试/">sass之二-sass调试</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><a href="http://www.w3cplus.com/preprocessor/sass-debug-with-developer-tool.html" target="_blank" rel="external">http://www.w3cplus.com/preprocessor/sass-debug-with-developer-tool.html</a><br>很简单</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/chrome/">chrome</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/debug/">debug</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sass/">sass</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-sass之一-sass介绍" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/20/sass之一-sass介绍/" class="article-date">
      <time datetime="2017-01-20T07:23:51.000Z" itemprop="datePublished">2017-01-20</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/20/sass之一-sass介绍/">sass之一:sass介绍</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>Sass是一门非常优秀的CSS预处理语言，他是由Hampton Catlin创立，其中他还有另外一个名称SCSS，这个SCSS看起来更像CSS。</p>
<h4 id="sass和compasss"><a href="#sass和compasss" class="headerlink" title="sass和compasss"></a>sass和compasss</h4><p>Sass官方定义其为基于CSS的meta language。在我看来，其实Sass是CSS的一个超集，也是一个CSS开发工具。它丰富的语法知识使得CSS增加了诸多编程元素。<br>Compass的定义是，它是一个开源的CSS编码框架。换句话说，它是一个基于Sass的框架。在我理解来，Compass就像是sass的一个库函数或者框架，提供了非常多的Sass的优秀模块、函数等。你可以选择不使用它，但是使用它会为你编写Sass文件带来非常大的便利之处，例如一些重用的CSS模块、一些非常流行的CSS栅格布局框架、我们常用的reset/normalizing等。</p>
<h4 id="sass语法特征"><a href="#sass语法特征" class="headerlink" title="sass语法特征"></a>sass语法特征</h4><ol>
<li>混合（Mixins）：class中的class;</li>
<li>参数混合（Parametric）：可以像函数一样传递参数的class;</li>
<li>嵌套规则（Nested Rules）：class中嵌套class，从而减少重复的代码；</li>
<li>运算（Operations）：css中的数学计算；</li>
<li>颜色功能（Color function）：可以编辑你的颜色；</li>
<li>命名空间（Namespaces）：样式分组，从而方便被调用；</li>
<li>作用域（Scope）：局部修改样式；</li>
<li>JavaScript表达式(Javascript evaluation)：在CSS样式中使用Javascript表达式赋值。</li>
</ol>
<h4 id="sass语法特征介绍"><a href="#sass语法特征介绍" class="headerlink" title="sass语法特征介绍"></a>sass语法特征介绍</h4><ol>
<li>Mixins: 译为混合或混入，将一个定义好的class A引入到另一个class B中，从而实现class B继承clas A的所有属性。</li>
<li>Parametric： 带参数混合，像函数一样在class A定义一个参数的默认值，或者参数属性集合，还可以是@arguments变量，然后将定义好的class A引入class B中。</li>
<li>Nested Rules译成嵌套规则，指的是在一个选择器中嵌套另一个选择器来实现继承。从而减少了代码量，并且增加了代码的可读性。著作权归作者所有。</li>
<li>Operations运算，在CSS中使用加、减、乘、除进行数学运算，主要运用于属性值和颜色的运算，可以轻松实现属性值之间的复杂关系。</li>
<li>Color function颜色功能，颜色的函数运算，颜色会先被转化成HSL色彩空间，然后在通道级别操作。著作权归作者所有。</li>
<li>Namespaces命名空间，将一些变量或者混合模块打包封装，更好的组织CSS和属性集的重复使用；</li>
<li>Scope作用域，先从本地查找变量或者混合模块，如果没有找到的话就会去父级作用域中查找，直到找到为止，这一点和其他程序语言的作域非常的相似；</li>
<li>Javascript evaluation，javascript的表达式,在Less或sass文件中可以使用js的表达式,用来赋值。</li>
</ol>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><blockquote>
<p>sudo gem install sass</p>
</blockquote>
<h4 id="sass使用"><a href="#sass使用" class="headerlink" title="sass使用"></a>sass使用</h4><ol>
<li><p>继承 @extend<br>使用extend，一个类可以继承另外一个类的所有css属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">.class1 &#123;</div><div class="line">    border: 1px soild #ddd;</div><div class="line">&#125;</div><div class="line">.class2 &#123;</div><div class="line">    @extend .class1; // class2可以继承class1的css样式属性</div><div class="line">    font-size: 16px;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>混合 @mixin/@include<br>在样式规则前面添加@mixin，规定是个嵌套，然后通过@include来调用.使用@mixin相对于定义一个函数一样，可带参数，@include类似函数调用，传入参数，<br>（1）不带参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">@mixin left &#123;</div><div class="line">    float: left;</div><div class="line">    margin-left: 10px;</div><div class="line">&#125;</div><div class="line">div &#123;</div><div class="line">    @include ;left;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>（2）带参数, 参数必须是$开头，可设置默认参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">@mixin left($value: 10px) &#123;</div><div class="line">    float: left;</div><div class="line">    margin-left: $value;</div><div class="line">&#125;</div><div class="line">div &#123;</div><div class="line">　　@include left(20px);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>可使用mixin，用来生成浏览器前缀，（不推荐，推荐使用gulp/webpack+auprefixer）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@mixin rounded($vert, $horz, $radius: 10px) &#123;</div><div class="line">　　border-#&#123;$vert&#125;-#&#123;$horz&#125;-radius: $radius;</div><div class="line">　　-moz-border-radius-#&#123;$vert&#125;#&#123;$horz&#125;: $radius;</div><div class="line">　　-webkit-border-#&#123;$vert&#125;-#&#123;$horz&#125;-radius: $radius;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<ol>
<li><p>颜色函数<br>sass提供了一些内置的颜色函数，以便生成系列颜色。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">lighten(#cc3, 10%) // #d6d65c</div><div class="line">darken(#cc3, 10%) // #a3a329</div><div class="line">grayscale(#cc3) // #808080</div><div class="line">complement(#cc3) // #33c</div></pre></td></tr></table></figure>
</li>
<li><p>嵌套和导入<br>在css中一般使用class或者id，但是可能变得很乱，使用嵌套层次清晰.通过&amp;来引用当前元素，类似js中的this</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">.a &#123;</div><div class="line">    .aa &#123;</div><div class="line">        .aaaa&#123;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">        &amp;:hover &#123;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">@import &apos;a.scss&apos;;</div></pre></td></tr></table></figure>
</li>
<li><p>运算<br>变量当然可以运算</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$base_margin: 10px;</div><div class="line">$double_margin: @base_margin * 2;</div><div class="line"></div><div class="line">$full_page: 960px;</div><div class="line">$half_page: $full_page / 2;</div><div class="line">$quarter_page: ($full_page / 2) / 2;</div></pre></td></tr></table></figure>
</li>
<li><p>条件语句<br>使用@if和@else来进行条件判断</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">p &#123;</div><div class="line">    @if fun($va)&gt;1 &#123;</div><div class="line">        background-color: #000;</div><div class="line">    &#125; @else &#123;</div><div class="line">        background-color: #fff;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>使用for语句进行循环<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@for $i from 1 to 10 &#123;</div><div class="line">    .border-#&#123;$i&#125; &#123;</div><div class="line">        border: #&#123;$i&#125;px soild #fff;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>也支持while循环：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$i: 6;</div><div class="line">@while $i &gt; 0 &#123;</div><div class="line">　　.item-#&#123;$i&#125; &#123; width: 2em * $i; &#125;</div><div class="line">　　$i: $i - 2;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>each命令，作用与for类似：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@each $member in a, b, c, d &#123;</div><div class="line">　　.#&#123;$member&#125; &#123;</div><div class="line">　　　　background-image: url(&quot;/image/#&#123;$member&#125;.jpg&quot;);</div><div class="line">　　&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<ol>
<li>自定义函数<br>sass允许自定义函数<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">@function double($n) &#123;</div><div class="line">　　@return $n * 2;</div><div class="line">&#125;</div><div class="line">#sidebar &#123;</div><div class="line">　　width: double(5px);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="sass四种编译风格"><a href="#sass四种编译风格" class="headerlink" title="sass四种编译风格"></a>sass四种编译风格</h4><p>四种风格分别是nested, expanded, compact, compressed<br>命令行是：</p>
<blockquote>
<p>  sass style expanded assets/sass/style1.sass assets/css/style1.css</p>
</blockquote>
<p>举个例子说明：</p>
<ol>
<li><p>nested:默认</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">#main &#123;</div><div class="line">  color: #fff;</div><div class="line">  background-color: #000; &#125;</div><div class="line">  #main p &#123;</div><div class="line">    width: 10em; &#125;</div><div class="line"></div><div class="line">.huge &#123;</div><div class="line">  font-size: 10em;</div><div class="line">  font-weight: bold;</div><div class="line">  text-decoration: underline; &#125;</div></pre></td></tr></table></figure>
</li>
<li><p>expanded</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">#main &#123;</div><div class="line">  color: #fff;</div><div class="line">  background-color: #000;</div><div class="line">&#125;</div><div class="line">#main p &#123;</div><div class="line">  width: 10em;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.huge &#123;</div><div class="line">  font-size: 10em;</div><div class="line">  font-weight: bold;</div><div class="line">  text-decoration: underline;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>compact</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">#main &#123; color: #fff; background-color: #000; &#125;</div><div class="line">#main p &#123; width: 10em; &#125;</div><div class="line"></div><div class="line">.huge &#123; font-size: 10em; font-weight: bold; text-decoration: underline; &#125;</div></pre></td></tr></table></figure>
</li>
<li><p>compressed</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#main&#123;color:#fff;background-color:#000&#125;#main p&#123;width:10em&#125;.huge&#123;font-size:10em;font-weight:bold;text-decoration:underline&#125;</div></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/less/">less</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mixin/">mixin</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sass/">sass</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-css-获取css属性" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/18/css-获取css属性/" class="article-date">
      <time datetime="2017-01-18T06:43:30.000Z" itemprop="datePublished">2017-01-18</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/18/css-获取css属性/">css-获取css属性</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>获取属性方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">function getStyle(elem, name) &#123;</div><div class="line">    if(elem.style[name]) &#123; /* 如果该属性存在于style[]中，则它最近被设置过(且就是当前的) */</div><div class="line">        return elem.style[name];</div><div class="line">    &#125; else if(elem.currentStyle) &#123; /* for IE */</div><div class="line">        return elem.currentStyle[name];</div><div class="line">    &#125; else if (document.defaultView &amp;&amp; document.defaultView.getComputedStyle) &#123;</div><div class="line">        name = name.replace(/([A-Z])/g,&quot;-$1&quot;);</div><div class="line">        name = name.toLowerCase();</div><div class="line"></div><div class="line">        //获取style对象并取得属性的值(如果存在的话)</div><div class="line">        var s = document.defaultView.getComputedStyle(elem,&quot;&quot;);</div><div class="line">        return s &amp;&amp; s.getPropertyValue(name);</div><div class="line">    &#125; else &#123;</div><div class="line">        return null;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/property/">property</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-algorithm-LazyMan" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/18/algorithm-LazyMan/" class="article-date">
      <time datetime="2017-01-18T06:18:58.000Z" itemprop="datePublished">2017-01-18</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/18/algorithm-LazyMan/">algorithm-LazyMan</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h4 id="算法题目："><a href="#算法题目：" class="headerlink" title="算法题目："></a>算法题目：</h4><blockquote>
<p>实现一个LazyMan，可以按照以下方式调用:<br>LazyMan(“Hank”)输出:<br>Hi! This is Hank!</p>
<p>LazyMan(“Hank”).sleep(10).eat(“dinner”)输出<br>Hi! This is Hank!<br>//等待10秒..<br>Wake up after 10<br>Eat dinner~</p>
<p>LazyMan(“Hank”).eat(“dinner”).eat(“supper”)输出<br>Hi This is Hank!<br>Eat dinner~<br>Eat supper~</p>
<p>LazyMan(“Hank”).sleepFirst(5).eat(“supper”)输出<br>//等待5秒<br>Wake up after 5<br>Hi This is Hank!<br>Eat supper</p>
<p>以此类推。</p>
</blockquote>
<h4 id="算法思路"><a href="#算法思路" class="headerlink" title="算法思路"></a>算法思路</h4><p>这个是典型的javscript流程控制，关键是如何实现任务的顺序执行，可以将每个函数可以看成一个任务，每调用一个函数就将这个加入任务队伍，这种类似于express的中间件问题，每个中间件执行完成后就会调用next()函数，这个函数会调用下一个中间件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line">function _LazyMan(name) &#123;</div><div class="line">    this.tasks = [];</div><div class="line">    var self = this;</div><div class="line">    var fn = (function (n) &#123;</div><div class="line">        var name = n;</div><div class="line">        return function () &#123;</div><div class="line">            console.log(&apos;Hi! This is &apos; + name + &quot;!&quot;);</div><div class="line">            self.next();</div><div class="line">        &#125;</div><div class="line">    &#125;)(name);</div><div class="line">    this.tasks.push(fn);</div><div class="line">    return this;</div><div class="line">&#125;</div><div class="line"></div><div class="line">_LazyMan.prototype.next = function () &#123;</div><div class="line">    var fn = this.tasks.shift();</div><div class="line">    fn &amp;&amp; fn();</div><div class="line">&#125;;</div><div class="line"></div><div class="line">_LazyMan.prototype.sleep = function (time) &#123;</div><div class="line">    var self = this;</div><div class="line">    var fn = (function () &#123;</div><div class="line">        return function () &#123;</div><div class="line">            setTimeout(function () &#123;</div><div class="line">                console.log(&apos;Wake up after &apos; + time + &apos;s!&apos;);</div><div class="line">                next();</div><div class="line">            &#125;, time * 1000);</div><div class="line">        &#125;;</div><div class="line">    &#125;)(time);</div><div class="line">&#125;;</div><div class="line"></div><div class="line">_LazyMan.prototype.eat = function (name) &#123;</div><div class="line">    var self = this;</div><div class="line">    var fn = (function () &#123;</div><div class="line">        return function () &#123;</div><div class="line">            console.log(&apos;Eat &apos; + name + &apos;~&apos;);</div><div class="line">            self.next();</div><div class="line">        &#125;;</div><div class="line">    &#125;)(name);</div><div class="line">&#125;;</div><div class="line"></div><div class="line">_LazyMan.prototype.sleepFirst = function(time) &#123;</div><div class="line">    var self = this;</div><div class="line">    var fn = (function(time) &#123;</div><div class="line">        return function() &#123;</div><div class="line">            setTimeout(function() &#123;</div><div class="line">                console.log(&quot;Wake up after &quot; + time + &quot;s!&quot;);</div><div class="line">                self.next();</div><div class="line">            &#125;, time * 1000);</div><div class="line">        &#125;</div><div class="line">    &#125;)(time);</div><div class="line">    this.tasks.unshift(fn);</div><div class="line">    return this;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">function LazyMan(name) &#123;</div><div class="line">    return new _LazyMan(name);</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/algorithm/">algorithm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/lasyman/">lasyman</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-javascript-defer和async" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/18/javascript-defer和async/" class="article-date">
      <time datetime="2017-01-18T05:50:19.000Z" itemprop="datePublished">2017-01-18</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/18/javascript-defer和async/">javascript-defer和async</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h4 id="javascript加载和执行"><a href="#javascript加载和执行" class="headerlink" title="javascript加载和执行"></a>javascript加载和执行</h4><p>javascript在浏览器中分为加载和执行两个过程，当浏览器碰到script脚本时候，分为以下情况：</p>
<ol>
<li>&lt;script src=”index.js”&gt;&lt;/script&gt;没有defer或async，浏览器会立即加载并执行指定的脚本，立即指的是在渲染该script标签下的文档元素之前，也就是说不等待后续载入的文档元素，读到就加载并执行。</li>
<li>&lt;script async src=”index.js”&gt;&lt;/script&gt;有async，加载和渲染后续文档的过程将和script.js的加载和执行并行进行（移步）。</li>
<li>&lt;script async src=”index.js”&gt;&lt;/script&gt;有defer，加载后续文档元素的过程将和 script.js 的加载并行进行（异步），但是 script.js 的执行要在所有元素解析完成之后，DOMContentLoaded 事件触发之前完成。<br>然后从实用角度来说呢，首先把所有脚本都丢到  之前是最佳实践，因为对于旧浏览器来说这是唯一的优化选择，此法可保证非脚本的其他一切元素能够以最快的速度得到加载和解析。<br>接着，我们来看一张图咯：<br><img src="/img/script.jpeg" alt=""><br>蓝色线代表网络读取，红色线代表执行时间，这俩都是针对脚本的；绿色线代表 HTML 解析。</li>
</ol>
<h4 id="几点注意事项"><a href="#几点注意事项" class="headerlink" title="几点注意事项"></a>几点注意事项</h4><p>1、不要在defer型的脚本程序段中调用document.write命令，因为document.write将产生直接输出效果。</p>
<p>2、而且，不要在defer型脚本程序段中包括任何立即执行脚本要使用的全局变量或者函数。</p>
<p>3、defer 和 async 在网络读取（下载）这块儿是一样的，都是异步的（相较于 HTML 解析）。</p>
<p>4、它俩的差别在于脚本下载完之后何时执行，显然 defer 是最接近我们对于应用脚本加载和执行的要求的。</p>
<p>5、关于 defer，此图未尽之处在于它是按照加载顺序执行脚本的，这一点要善加利用。</p>
<p>6、async 则是一个乱序执行的主，反正对它来说脚本的加载和执行是紧紧挨着的，所以不管你声明的顺序如何，只要它加载完了就会立刻执行。</p>
<p>7、仔细想想，async 对于应用脚本的用处不大，因为它完全不考虑依赖（哪怕是最低级的顺序执行），不过它对于那些可以不依赖任何脚本或不被任何脚本依赖的脚本来说却是非常合适的。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/async/">async</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/defer/">defer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web优化/">web优化</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-React生命周期" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/11/React生命周期/" class="article-date">
      <time datetime="2017-01-11T11:02:04.000Z" itemprop="datePublished">2017-01-11</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/11/React生命周期/">React生命周期</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><strong>（本文将持续更新）</strong></p>
<h4 id="实例化-首次初始化调用getDefaultProps，以后实例化不会被调用，可以认为这是这个类的静态方法"><a href="#实例化-首次初始化调用getDefaultProps，以后实例化不会被调用，可以认为这是这个类的静态方法" class="headerlink" title="实例化: 首次初始化调用getDefaultProps，以后实例化不会被调用，可以认为这是这个类的静态方法"></a>实例化: 首次初始化调用getDefaultProps，以后实例化不会被调用，可以认为这是这个类的静态方法</h4><p>a: 首次实例化</p>
<ul>
<li>getDefaultProps</li>
<li>getInitialState</li>
<li>componentWillMount</li>
<li>render</li>
<li>componentDidMount<br>b: 实例化完成后的更新</li>
<li>getInitialState</li>
<li>componentWillMount</li>
<li>render</li>
<li>componentDidMount</li>
</ul>
<h4 id="存在期：组件已经挂在时的状态改变"><a href="#存在期：组件已经挂在时的状态改变" class="headerlink" title="存在期：组件已经挂在时的状态改变"></a>存在期：组件已经挂在时的状态改变</h4><ul>
<li>componentWillReceiveProps</li>
<li>shouldComponentUpdate</li>
<li>componentWillUpdate</li>
<li>render</li>
<li>componentDidUpdate</li>
</ul>
<h4 id="销毁期"><a href="#销毁期" class="headerlink" title="销毁期"></a>销毁期</h4><ul>
<li>componentWillUnmount</li>
</ul>
<h4 id="10个生命周期API说明"><a href="#10个生命周期API说明" class="headerlink" title="10个生命周期API说明"></a>10个生命周期API说明</h4><ol>
<li>getDefaultProps<br> 作用于组件类，只被调用一次，返回的对象设置默认的props，对于引用值将会被实例中共享。</li>
<li>getInitialState<br> 作用于组件的实例，在实例创建时调用一次，用于初始化每个实例的state，此时可以访问this.props。（注意反模式）</li>
<li>componentWillMount<br> 在完成首次渲染之前，此时仍可以修改组件的state。（其实这个没什么卵用）</li>
<li>render<br> 必选的方法，创建虚拟的DOM，该方法具有特殊的规则：<ul>
<li>只能通过this.props和this.state访问数据</li>
<li>可以返回null，false或任何React组件</li>
<li>只能并且必须返回一个顶级组件</li>
<li>不能更改组件的状态</li>
<li>不能修改DOM的输出</li>
</ul>
</li>
<li>componentDidMount<br> 真实的DOM被渲染出来之后，在这个方法中可以通过this.getDOMNode()访问真实的DOM，例如ajax请求就放在这里，此时可以利用其他类库来操作这个DOM，例如jQuery.js或zepto.js等类库。<br> 当然这些类库操作有些限制和注意的地方，后面会有章节讲解如何和这些库结合使用。<br> 在服务器端，该方法不会被调用。</li>
<li><p>componentWillReceiveProps<br> 组件接收到新的props时候调用，并将其作为参数nextProps使用，此时可以更改组件props以及state。</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">componentWillReceiveProps(nextProps) &#123;</div><div class="line">    if(nextProps.bool) &#123;</div><div class="line">        this.state(&#123;</div><div class="line">            bool: true</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>shouldComponentUpdate<br> 组件根据新的props和state来判断是否重新渲染，返回false表示不重新渲染跳过后续的生命周期，通常不使用，以免出现问题。<br> 其实这个方法很重要，虽然react已经很快，但是出现性能瓶颈的时候，可以使用此方法进行适当的优化。<br> 在首次渲染或者调用了forceUpdate方法后，该方法不会被调用。</p>
</li>
<li><p>componentWillUpdate<br> 接收到新的props或者state后，进行渲染之前调用，此时不允许更新props或state。(没什么卵用)；</p>
</li>
<li><p>componentDidUpdate<br> 完成渲染新的props或者state后调用，此时可以访问到新的DOM元素。和componentDidMount类似，可以操作DOM，改变state等操作。</p>
</li>
<li><p>componentWillUnmount<br>组件被移除之前调用，用于做一些清理操作，在componentDidMount方法中添加的所有任务都需要在该方法中撤销，比如创建的定时器或添加的事件监听器。</p>
</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/api/">api</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/lifecycle/">lifecycle</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2017 罗旭
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>